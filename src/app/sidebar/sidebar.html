
<aside
  class="hidden md:flex flex-col h-screen transition-all duration-300 ease-in-out bg-white dark:bg-gray-900 border-r border-gray-100 dark:border-gray-800"
  [class.w-60]="!isCollapsed"
  [class.w-16]="isCollapsed"
>
  <!-- Header -->
  <div
    class="flex items-center justify-between border-b border-gray-50 dark:border-gray-800"
    [class.p-6]="!isCollapsed"
    [class.p-4]="isCollapsed"
  >
    <div
      class="flex items-center gap-2 overflow-hidden py-2"
      [class.justify-center]="isCollapsed"
      [class.w-full]="isCollapsed"
    >
      @if(isCollapsed){
      <!-- Solo logo pequeño centrado con toggle tipo hamburguesa -->
      <div class="flex items-center gap-2 justify-center w-full">
        <button
          (click)="toggleSidebar()"
          class="flex items-center justify-center w-8 h-8 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors duration-200 group"
        >
          <fa-icon
            [icon]="faBars"
            class="text-gray-400 group-hover:text-gray-600 dark:group-hover:text-gray-300 text-sm transition-colors"
          ></fa-icon>
        </button>
      </div>
      }
    </div>

    <!-- Toggle Button solo visible en estado expandido -->
    @if(!isCollapsed){
    <button
      (click)="toggleSidebar()"
      class="flex items-center justify-center w-8 h-8 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors duration-200 group"
    >
      <fa-icon
        [icon]="faChevronLeft"
        class="text-gray-400 group-hover:text-gray-600 dark:group-hover:text-gray-300 text-sm transition-colors"
      ></fa-icon>
    </button>
    }
  </div>

  <!-- Navigation -->
  <nav class="flex-1 py-2" [class.px-4]="!isCollapsed" [class.px-2]="isCollapsed">
    <ul class="space-y-1">
      @for(item of menu; track item){
      <li>
        <a
          [routerLink]="item.route"
          routerLinkActive="bg-blue-50 dark:bg-gray-800 text-blue-700 dark:text-blue-400"
          [class]="
            isCollapsed
              ? 'flex items-center justify-center p-2.5 rounded-lg text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-gray-200 transition-all duration-200 group relative'
              : 'flex items-center gap-3 px-3 py-2.5 rounded-lg text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-gray-200 transition-all duration-200 group relative border-r-2 border-transparent'
          "
        >
          <fa-icon
            [icon]="item.icon"
            class="text-lg transition-colors flex-shrink-0"
            [class.text-base]="isCollapsed"
          ></fa-icon>
          @if(!isCollapsed){
          <span class="text-sm font-medium truncate">{{ item.label }}</span>
          } @else {
          <!-- Tooltip para modo colapsado -->
          <div
            class="absolute left-full ml-3 px-3 py-2 bg-gray-900 dark:bg-gray-700 text-white dark:text-gray-200 text-xs rounded-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 whitespace-nowrap z-50 shadow-lg"
          >
            {{ item.label }}
            <!-- Flecha del tooltip -->
            <div
              class="absolute top-1/2 left-0 transform -translate-y-1/2 -translate-x-1 w-2 h-2 bg-gray-900 dark:bg-gray-700 rotate-45"
            ></div>
          </div>
          }
        </a>
      </li>
      }
    </ul>
  </nav>

  <!-- Footer -->
  @if(!isCollapsed){
  <div class="px-6 py-4 border-t border-gray-50 dark:border-gray-800">
    <div class="text-xs text-gray-400 dark:text-gray-500 text-center">
      <span class="font-medium">v1.0.0</span> • 2025
    </div>
  </div>
  }
</aside>



