<div class="p-4 max-w-7xl mx-auto">
    <div class="flex justify-between items-center mb-4">
        <h1 class="text-2xl font-bold">Lista de Transportes</h1>
        <button (click)="toggleModal()" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition">
            Agregar Transporte
        </button>
    </div>

    <!-- Tabla -->
    <div class="overflow-x-auto">
        <table class="min-w-full bg-white border rounded-lg overflow-hidden shadow">
            <thead class="bg-gray-200">
                <tr>
                    <th class="py-2 px-4 text-left">ID</th>
                    <th class="py-2 px-4 text-left">Transportista</th>
                    <th class="py-2 px-4 text-left">Vehículo</th>
                    <th class="py-2 px-4 text-left">Costo Local</th>
                    <th class="py-2 px-4 text-left">Costo Departamental</th>
                    <th class="py-2 px-4 text-left">Fecha Salida</th>
                    <th class="py-2 px-4 text-left">Fecha Llegada</th>
                    <th class="py-2 px-4 text-left">Estado</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let t of transportes" class="border-b hover:bg-gray-50 transition">
                    <td class="py-2 px-4">{{ t.id_transporte }}</td>
                    <td class="py-2 px-4">{{ t.transportista }}</td>
                    <td class="py-2 px-4">{{ t.vehiculo }}</td>
                    <td class="py-2 px-4">{{ t.costo_local | currency:'USD' }}</td>
                    <td class="py-2 px-4">{{ t.costo_departamental | currency:'USD' }}</td>
                    <td class="py-2 px-4">{{ t.fecha_salida | date:'short' }}</td>
                    <td class="py-2 px-4">{{ t.fecha_llegada | date:'short' }}</td>
                    <td class="py-2 px-4 capitalize">{{ t.estado }}</td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- Modal -->
    <div *ngIf="showModal" class="fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50">
        <div class="bg-white w-full max-w-md p-6 rounded-lg shadow-lg relative">
            <h2 class="text-xl font-bold mb-4">Agregar Transporte</h2>
            <form (ngSubmit)="addTransporte()">
                <div class="mb-2">
                    <label class="block mb-1 font-semibold">ID Compra</label>
                    <input type="number" [(ngModel)]="newTransporte.id_compra" name="id_compra"
                        class="w-full border px-3 py-2 rounded" required />
                </div>
                <div class="mb-2">
                    <label class="block mb-1 font-semibold">Transportista</label>
                    <input type="text" [(ngModel)]="newTransporte.transportista" name="transportista"
                        class="w-full border px-3 py-2 rounded" required />
                </div>
                <div class="mb-2">
                    <label class="block mb-1 font-semibold">Vehículo</label>
                    <input type="text" [(ngModel)]="newTransporte.vehiculo" name="vehiculo"
                        class="w-full border px-3 py-2 rounded" required />
                </div>
                <div class="mb-2">
                    <label class="block mb-1 font-semibold">Costo Local</label>
                    <input type="number" [(ngModel)]="newTransporte.costo_local" name="costo_local"
                        class="w-full border px-3 py-2 rounded" />
                </div>
                <div class="mb-2">
                    <label class="block mb-1 font-semibold">Costo Departamental</label>
                    <input type="number" [(ngModel)]="newTransporte.costo_departamental" name="costo_departamental"
                        class="w-full border px-3 py-2 rounded" />
                </div>
                <div class="mb-2">
                    <label class="block mb-1 font-semibold">Fecha Salida</label>
                    <input type="datetime-local" [(ngModel)]="newTransporte.fecha_salida" name="fecha_salida"
                        class="w-full border px-3 py-2 rounded" required />
                </div>
                <div class="mb-2">
                    <label class="block mb-1 font-semibold">Fecha Llegada</label>
                    <input type="datetime-local" [(ngModel)]="newTransporte.fecha_llegada" name="fecha_llegada"
                        class="w-full border px-3 py-2 rounded" required />
                </div>

                <div class="flex justify-end mt-4 space-x-2">
                    <button type="button" (click)="toggleModal()"
                        class="px-4 py-2 rounded bg-gray-300 hover:bg-gray-400">
                        Cancelar
                    </button>
                    <button type="submit" class="px-4 py-2 rounded bg-blue-600 text-white hover:bg-blue-700">
                        Agregar
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>